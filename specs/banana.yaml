collections:
  all: 
    - v005
    - v007
    - v008
slices:
  v005:
    groups:
      all: all
      proteins: +selectors/protein_selection
    slices:
      current: {'pbc':'mol','groups':['all','proteins'],'start':50000,'end':850000,'skip':500}
  v007:
    groups:
      all: all
      proteins: +selectors/protein_selection
    slices:
      current: {'pbc':'mol','groups':['all','proteins'],'start':240000,'end':590000,'skip':500}
  v008:
    groups:
      all: all
      proteins: +selectors/protein_selection
    slices:
      current: {'pbc':'mol','groups':['all','proteins'],'start':50000,'end':550000,'skip':500}
calculations:
  protein_abstractor:
    uptype: simulation
    slice_name: current
    group: proteins
    collections: all
  lipid_abstractor:
    uptype: simulation
    slice_name: current
    group: all
    collections: all
    specs:
      selector:
        loop:
          lipid_com:
            resnames: +selectors/resnames_lipid
            type: com
      separator: 
        lipid_tip: "name PO4"
        monolayer_cutoff: 1.4
      nojumps: "z"
  undulations:
    uptype: post
    group: all
    slice_name: current
    collections: all
    specs:
      grid_spacing: 1.0
      upstream: lipid_abstractor
  #curvature_coupling:
  #  uptype: post
  #  slice_name: current_protein
  #  collections: all
  #  specs: 
  #    upstream: undulations
  #diffusion_proteins:
  #  uptype: post
  #  group: all
  #  slice_name: current_protein
  #  collections: all
  #  specs:
  #    upstream: protein_abstractor
  lipid_mesh:
    uptype: post
    slice_name: current
    collections:
     - all
    specs:
      upstream:
        lipid_abstractor:
          selector: lipid_com
variables:
  selectors:
    protein_selection: (name BB or name SC1 or name SC2 or name SC3 or name SC4 or name SC5)
    protein_backbone: name BB
    resnames_lipid: ['DOPC','DOPS','PIP2']
meta:
  short_namer: "lambda sn,spot: sn"
  v005: {}
  v007: {}
  v008: {}
  extrana: >
    Note that simulations "simulation-v004-IRSp53-PIP2-bilayer-large" and "simulation-v006-endophilin-A1-PIP2-bilayer-large" have a minimal amount of water in them, and as a result, a few lipids broke the boundary. This is corrected by the "nojumps" flag.
plots:
  undulations:
    calculation: undulations
    slices: current
    collections: all
  lipid_areas:
    calculation: lipid_mesh
    slices: current
    collections:
      - one
  curvature_coupling:
    calculation: 
      - undulations
      - protein_abstractor
    collections: all
